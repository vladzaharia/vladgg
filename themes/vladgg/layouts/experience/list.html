{{ define "custom_content" }}
    {{ $projects := newScratch }}
    {{ $projects.Add "projects" .Pages.ByDate }}

    {{ range .Site.Data.work.work }}
        {{ if ne .hidden true }}
            <div class="work">
                {{ partial "components/work.html" (dict "work" . "projects" ($projects.Get "projects") "ctx" $) }}
            </div>
        {{ end }}
    {{ end }}
{{ end }}