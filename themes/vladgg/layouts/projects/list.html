{{ define "main" }}
<main>
    <article>
        <header>
            <h2>{{.Title}}</h2>
        </header>
        <!-- "{{.Content}}" pulls from the markdown content of the corresponding _index.md -->
        {{.Content}}
    </article>

    {{ range .Pages.GroupByParam "category" }}
        <h3>{{ .Key }}</h3>

        <div class="flex-column">
            <!-- Ranges through content/posts/*.md -->
                {{ range .Pages.ByDate }}
                    <a class="project" href="{{.Permalink}}">
                        <span>
                            <span class="flex-row flex-justify-sb">
                                <span class="flex-row flex-align-baseline">
                                    <i class="{{ .Params.icon }} icon mr-1" aria-hidden="true"></i> 
                                    <h3 class="m-0"> {{ .Title }} </h3>
                                </span>
                                
                                <div class="flex-align-baseline">
                                    <i class="fa-duotone fa-calendar-alt mr-5" aria-hidden="true"></i>
                                    {{ .Date.Format "January 2006" }}
                                </div>
                            </span>
                            <hr />
                            <span class="flex-row">
                                {{ .Params.summary }}
                            </span>
                            <span class="flex-row flex-align-baseline mt-1">
                                <i class="fa-light fa-tags mr-5" aria-hidden="true"></i>
                                {{ range .Params.tags }}
                                    <span class="label">
                                        {{ . }}
                                    </span>
                                {{ end }}
                            </span>
                        </span>
                    </a>
                {{ end }}
        </div>
    {{ end }}
</main>
{{ end }}