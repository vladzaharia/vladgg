---
interface Props {
  jobs: Array<{
    position: {
      startPosition: number;
      endPosition: number;
    };
  }>;
  years: Array<{
    year: number;
    position: number;
  }>;
}

const { jobs, years } = Astro.props;
---

<div class="absolute inset-0">
  {/* Main timeline line */}
  <div class="absolute left-1/2 w-1 h-full -ml-0.5 bg-slate-700">
    {/* Year markers */}
    {years.map(({ year, position }) => (
      <div 
        class="absolute left-full flex items-center gap-2"
        style={`top: calc(${position * 100}% - 0.625rem)`}
      >
        <div class="w-3 h-0.5 bg-slate-700"></div>
        <div class="text-sm text-slate-600">{year}</div>
      </div>
    ))}

    {/* Duration points */}
    {jobs.map((job) => (
      <div 
        class="absolute left-1/2 -translate-x-1/2 w-3 bg-slate-600 rounded-sm"
        style={{
          top: `${job.position.startPosition * 100}%`,
          height: `${Math.max((job.position.endPosition - job.position.startPosition) * 100, 2)}%`
        }}
      >
        {/* Start and end caps */}
        <div class="absolute -top-0.5 left-1/2 w-1.5 h-1.5 bg-slate-500 rounded-sm -translate-x-1/2"></div>
        <div class="absolute -bottom-0.5 left-1/2 w-1.5 h-1.5 bg-slate-500 rounded-sm -translate-x-1/2"></div>
      </div>
    ))}
  </div>
</div>
